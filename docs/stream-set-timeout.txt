语法:
   bool stream_set_timeout    ( resource $stream   , int $seconds   [, int $microseconds = 0  ] )
说明:
Setsthetimeoutvalueonstream,expressedinthesumofsecondsandmicroseconds.
参数:
  参数              stream                  The target stream.                        seconds                  The seconds part of the timeout to be set.                        microseconds                  The microseconds part of the timeout to be set.                     
返回值:
  返回值     成功时返回 TRUE， 或者在失败时返回 FALSE。   
示例:

<?php
$fp = fsockopen("www.example.com", 80);
if (!$fp) {
    echo "Unable to open\n";
} else {
    fwrite($fp, "GET / HTTP/1.0\r\n\r\n");
    stream_set_timeout($fp, 2);
    $res = fread($fp, 2000);
    $info = stream_get_meta_data($fp);
    fclose($fp);
    if ($info['timed_out']) {
        echo 'Connection timed out!';
    } else {
        echo $res;
    }
}
?>
